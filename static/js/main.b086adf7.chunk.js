(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{149:function(e,t,a){e.exports={gallery:"Show_gallery__34GpT"}},152:function(e,t,a){e.exports=a(331)},157:function(e,t,a){},158:function(e,t,a){e.exports=a.p+"static/media/logo.5d5d9eef.svg"},159:function(e,t,a){},245:function(e,t){},247:function(e,t){},280:function(e,t){},281:function(e,t){},327:function(e,t){},328:function(e,t){},329:function(e,t){},331:function(e,t,a){"use strict";a.r(t);var r=a(3),n=a.n(r),c=a(144),o=a.n(c),i=(a(157),a(145)),s=a(146),u=a(150),p=a(147),d=a(151),m=(a(158),a(159),a(43)),b=a(7),A=a.n(b),f=a(23),_=a(14),P=function(e,t){var a=Object(r.useRef)();Object(r.useEffect)(function(){a.current=e},[e]),Object(r.useEffect)(function(){if(null!==t){var e=setInterval(function(){a.current()},t);return function(){return clearInterval(e)}}},[t])},v=a(148),l=a.n(v),E=void 0,g=function(e){var t=e.onRef,a=Object(r.useRef)(),c=Object(r.useState)(!1),o=Object(_.a)(c,2),i=o[0],s=o[1],u=function(){var e=Object(f.a)(A.a.mark(function e(){var t;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(navigator.mediaDevices&&navigator.mediaDevices.getUserMedia){e.next=4;break}throw t="Browser API navigator.mediaDevices.getUserMedia not available",E.setState({error_messages:t}),t;case 4:a.current.video.onloadedmetadata=function(){s(!0)};case 6:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}();return Object(r.useEffect)(function(){u()},[a]),i&&t&&t(a),n.a.createElement(l.a,{audio:!1,ref:a,screenshotFormat:"image/jpeg"})},h=a(149),R=a.n(h),j=g,C=function(e){var t=e.data;return n.a.createElement("div",{className:R.a.gallery},t&&t.map(function(e,t){return n.a.createElement("img",{key:t,src:e,alt:"img"})}))},I=a(65),O=a.n(I),w={apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"/ricecam",REACT_APP_apiKey:"AIzaSyDSwRNP14oYjsb4rJvDjYbANatbaIBDI0A",REACT_APP_authDomain:"operation-verde-ricecam.firebaseapp.com",REACT_APP_databaseURL:"https://operation-verde-ricecam.firebaseio.com",REACT_APP_projectId:"operation-verde-ricecam",REACT_APP_storageBucket:"operation-verde-ricecam.appspot.com",REACT_APP_messagingSenderId:"231640672051"}).apiKey,authDomain:Object({NODE_ENV:"production",PUBLIC_URL:"/ricecam",REACT_APP_apiKey:"AIzaSyDSwRNP14oYjsb4rJvDjYbANatbaIBDI0A",REACT_APP_authDomain:"operation-verde-ricecam.firebaseapp.com",REACT_APP_databaseURL:"https://operation-verde-ricecam.firebaseio.com",REACT_APP_projectId:"operation-verde-ricecam",REACT_APP_storageBucket:"operation-verde-ricecam.appspot.com",REACT_APP_messagingSenderId:"231640672051"}).authDomain,databaseURL:Object({NODE_ENV:"production",PUBLIC_URL:"/ricecam",REACT_APP_apiKey:"AIzaSyDSwRNP14oYjsb4rJvDjYbANatbaIBDI0A",REACT_APP_authDomain:"operation-verde-ricecam.firebaseapp.com",REACT_APP_databaseURL:"https://operation-verde-ricecam.firebaseio.com",REACT_APP_projectId:"operation-verde-ricecam",REACT_APP_storageBucket:"operation-verde-ricecam.appspot.com",REACT_APP_messagingSenderId:"231640672051"}).databaseURL,projectId:Object({NODE_ENV:"production",PUBLIC_URL:"/ricecam",REACT_APP_apiKey:"AIzaSyDSwRNP14oYjsb4rJvDjYbANatbaIBDI0A",REACT_APP_authDomain:"operation-verde-ricecam.firebaseapp.com",REACT_APP_databaseURL:"https://operation-verde-ricecam.firebaseio.com",REACT_APP_projectId:"operation-verde-ricecam",REACT_APP_storageBucket:"operation-verde-ricecam.appspot.com",REACT_APP_messagingSenderId:"231640672051"}).projectId,storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:"/ricecam",REACT_APP_apiKey:"AIzaSyDSwRNP14oYjsb4rJvDjYbANatbaIBDI0A",REACT_APP_authDomain:"operation-verde-ricecam.firebaseapp.com",REACT_APP_databaseURL:"https://operation-verde-ricecam.firebaseio.com",REACT_APP_projectId:"operation-verde-ricecam",REACT_APP_storageBucket:"operation-verde-ricecam.appspot.com",REACT_APP_messagingSenderId:"231640672051"}).storageBucket,messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"/ricecam",REACT_APP_apiKey:"AIzaSyDSwRNP14oYjsb4rJvDjYbANatbaIBDI0A",REACT_APP_authDomain:"operation-verde-ricecam.firebaseapp.com",REACT_APP_databaseURL:"https://operation-verde-ricecam.firebaseio.com",REACT_APP_projectId:"operation-verde-ricecam",REACT_APP_storageBucket:"operation-verde-ricecam.appspot.com",REACT_APP_messagingSenderId:"231640672051"}).messagingSenderId},T={};Object.keys(w).map(function(e){T[e]=Object({NODE_ENV:"production",PUBLIC_URL:"/ricecam",REACT_APP_apiKey:"AIzaSyDSwRNP14oYjsb4rJvDjYbANatbaIBDI0A",REACT_APP_authDomain:"operation-verde-ricecam.firebaseapp.com",REACT_APP_databaseURL:"https://operation-verde-ricecam.firebaseio.com",REACT_APP_projectId:"operation-verde-ricecam",REACT_APP_storageBucket:"operation-verde-ricecam.appspot.com",REACT_APP_messagingSenderId:"231640672051"})["REACT_APP_".concat(e)]}),O.a.apps.length||O.a.initializeApp(T);O.a,a(330);var D=a(66),y=function(){var e=Object(f.a)(A.a.mark(function e(){return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,D.a("assets/model/brightness-predictor.json");case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),S=function(){var e=Object(f.a)(A.a.mark(function e(t){var a;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y();case 2:if(!(a=e.sent)){e.next=7;break}return e.next=6,D.c(function(){var e=[Array.from(t)],r=D.b(e,[e.length,432]),n=a.predict(r);return n.print(),n.arraySync()[0][0]});case 6:return e.abrupt("return",e.sent);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),k=function(){var e=Object(f.a)(A.a.mark(function e(t){var a,r,n;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=t.getContext("2d").getImageData(0,0,t.width,t.height),r=a.data,e.next=4,S(r);case 4:return n=e.sent,console.log(n),e.abrupt("return",n>.6);case 7:case"end":return e.stop()}},e)}));return function(t){return e.apply(this,arguments)}}(),N=function(){var e=Object(r.useState)(),t=Object(_.a)(e,2),a=t[0],c=t[1],o=Object(r.useState)(!0),i=Object(_.a)(o,2),s=i[0],u=i[1],p=Object(r.useState)(500),d=Object(_.a)(p,2),b=d[0],v=(d[1],Object(r.useState)(!1)),l=Object(_.a)(v,2),E=l[0],g=l[1];P(function(){S()},E?b:null);var h=Object(r.useState)(1e3),R=Object(_.a)(h,2),I=R[0],O=R[1],w=Object(r.useState)(!1),T=Object(_.a)(w,2),D=T[0],y=T[1];P(function(){z()},D?I:null);var S=function(){var e=Object(f.a)(A.a.mark(function e(){var t,r,n;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(!a){e.next=11;break}return t=a.current.video,(r=document.createElement("canvas")).width=.02*t.videoWidth,r.height=.02*t.videoHeight,r.getContext("2d").drawImage(t,0,0,r.width,r.height),e.next=9,k(r);case 9:n=e.sent,u(!!n);case 11:case"end":return e.stop()}},e)}));return function(){return e.apply(this,arguments)}}(),N=Object(r.useState)([]),U=Object(_.a)(N,2),B=U[0],L=U[1],x=Object(r.useState)([]),Y=Object(_.a)(x,2),J=Y[0],K=Y[1],z=function(){if(a){var e,t=a.current.video,r=document.createElement("canvas");r.width=1*t.videoWidth,r.height=1*t.videoHeight,(e=r.getContext("2d")).drawImage(t,0,0,r.width,r.height);var n=r.toDataURL();L([].concat(Object(m.a)(B),[n])),e.clearRect(0,0,r.width,r.height),r.width=.02*t.videoWidth,r.height=.02*t.videoHeight,(e=r.getContext("2d")).drawImage(t,0,0,r.width,r.height);var c=e.getImageData(0,0,r.width,r.height);console.log(c);var o=function(e){var t=[];for(var a in e)t.push(e[a]);return t}(c.data);return K([].concat(Object(m.a)(J),[o])),B}};return n.a.createElement("div",{style:{backgroundColor:s?"white":"#282c34"}},n.a.createElement(j,{onRef:c}),n.a.createElement("br",null),n.a.createElement("code",null,"debug buttons: "),n.a.createElement("button",{onClick:function(){y(!0),setTimeout(function(){y(!1)},1100)}},"capture"),n.a.createElement("button",{onClick:function(){y(!0),setTimeout(function(){y(!1)},5e3)}},"capture5sec"),n.a.createElement("button",{onClick:function(){O(1),y(!0),setTimeout(function(){y(!1),O(1e3)},5e3)}},"capture5sec video"),n.a.createElement("button",{onClick:function(){!function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"json.txt",a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text/plain",r=document.createElement("a"),n=new Blob([e],{type:a});r.href=URL.createObjectURL(n),r.download=t,r.click()}(JSON.stringify({data:J}),"temp.json","application/json"),L([]),K([])}},"download data as json"),n.a.createElement("button",{onClick:function(){}},"push to database"),n.a.createElement("button",{onClick:function(){return g(!E)}},"toggle detection"),n.a.createElement("br",null),n.a.createElement("br",null),n.a.createElement(C,{data:B}))},U=function(e){function t(){return Object(i.a)(this,t),Object(u.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"App"},n.a.createElement(N,null))}}]),t}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(U,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[152,1,2]]]);
//# sourceMappingURL=main.b086adf7.chunk.js.map